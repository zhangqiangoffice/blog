{% extends 'layout.html' %}

{% block content%}

{% if contents.length == 0 %}
<div class="list_box"><h2>目前该分类下还没有文章</h2></div>
{% endif %}

{% for content in contents%}
<div class="list_box">
  <h1>{{content.title}}</h1>
  <p class="col_default">
    作者：<span>{{content.user.username}}</span> -
    时间：<span>{{content.addTime | date('Y年m月d日 H:i:s', -8*60) }}</span> -
    阅读：<span>{{content.views}}</span> -
    评论：<span>{{content.comments.length}}</span>
  </p>
  <p>{{content.description}}</p>
  <div class="function"><a href="/view?contentid={{content.id}}" class="btn btn-warning">阅读全文</a></div>
</div>
{% endfor %}

<ul class="pager">
  <li class="previous">
    {% if page <= 1 %}
    <span>没有上一页了</span>
    {% else %}
    <a href="/?category={{category}}&page={{ page - 1 }}">上一页</a>
    {% endif%}
  </li>
  
  <li class="num">
    {% if pages > 0 %}
      {{ page }} / {{ pages }}
    {% endif %}
  </li>
  <li class="next">
    {% if page >= pages %}
    <span>没有下一页了</span>
    {% else %}
    <a href="/?category={{category}}&page={{ page + 1 }}">下一页</a>
    {% endif%}
  </li>
</ul>

{% endblock %}